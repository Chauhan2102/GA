<!DOCTYPE html>
<html lang="en">
<head>
    <script>
        window.dataLayer = window.dataLayer || [];
        </script>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-PF8RZW34');</script>
    <!-- End Google Tag Manager -->
    <link rel="stylesheet" href="../style/nav.css">
    <link rel="stylesheet" href="../style/buy.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Purchase</title>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PF8RZW34"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
     
    <!-- Navigation Bar -->
    <nav class="nav-bar">
        <div class="nav-text">
            <h2>Welcome!</h2>
        </div>
        <div class="nav-a">
            <a href="./home.html" class="nav-a home-link">Home</a>
            <a href="./newsletter.html" class="nav-a news-link">NewsLetter</a>
            <a href="./login.html" class="nav-a Profile-link">Profile</a>
            <a href="./contact.html" class="nav-a contact-link">Contact us</a>
            <a href="./purchasebook.html" class="nav-a buy-link">Buy</a>
        </div>
    </nav>

    <!-- Book Purchase Section -->
    <h1>Purchase Your Favorite Books</h1>

    <!-- Cart-like layout for books -->
    <div class="book-container">
        <div class="book-card">
            <img src="../images/book1.jpg" alt="Book 1">
            <h3><a href="../pages/book details/gita.html"
              onclick="
                   dataLayer.push({ ecommerce: null }); 
                   dataLayer.push({
                     event: 'select_item',
                     ecommerce: {
                       item_list_id: 'books_on_sale',
                       item_list_name: 'Purchase Your Favorite Books',
                       items: [
                         {
                           item_id: 'b1',
                           item_name: 'Bhagavat Gita',
                           affiliation: 'Book Store',
                           coupon: 'SUMMER FUN',
                           discount: 2.22,
                           index: 0,
                           item_brand : 'Spiritual Book',
                           item_category: 'Books',
                           item_variant: 'Standard',
                           item_list_id: 'books_on_sale',
                           item_list_name: 'Purchase Your Favorite Books',
                           location_id: 'ChIJIQBpAG2ahYAR_6128GcTUEo',
                           price: 10,
                           quantity: document.querySelector('#quantity1').value,
                         }
                       ]
                     }
                   });
                   "
              >
            Bhagavat Gita </h3></a>
            <p>Price: $10</p>
            <p>Description: The lessons of life how to live</p>
            <label for="quantity1">Quantity:</label>
            <input type="number" id="quantity1" name="quantity" min="1" value="1" data-price="10" class="quantity-input">
            <button class="add-to-cart" data-book="Book 1" data-price="10">Add to Cart</button>
            <div><a href="./tutorial.html" class="tutorial-link">Tutorial</a></div>
        </div>

        <div class="book-card">
            <img src="../images/book2.jpg" alt="Book 2">
            <h3><a href="../pages/book details/ramayan.html" 
              onclick="
                dataLayer.push({ ecommerce: null }); 
                   dataLayer.push({
                     event: 'select_item',
                     ecommerce: {
                       item_list_id: 'books_on_sale',
                       item_list_name: 'Purchase Your Favorite Books',
                       items: [
                         {
                          item_id: 'b2',
                          item_name: document.querySelector('.book-card:nth-child(2) h3').innerText,
                          affiliation: 'Book Store',
                          coupon: 'SUMMER FUN',
                          discount: 2.22,
                          price: document.querySelector('.book-card:nth-child(2) .quantity-input').getAttribute('data-price'),
                          quantity: document.querySelector('#quantity2').value,
                          item_brand: 'Spiritual Book',
                          item_category: 'Books',
                          item_variant: 'Standard',
                          location_id: 'ChIJIQBpAG2ahYAR_6128GcTUEo',
                          item_list_id: 'books_on_sale',
                          item_list_name: 'Purchase Your Favorite Books',
                         }
                       ]
                     }
                   });"
             >Ramayan</h3></a>
            <p>Price: $15</p>
            <p>Description: The Life of Lord Rama</p>
            <label for="quantity2">Quantity:</label>
            <input type="number" id="quantity2" name="quantity" min="1" value="1" data-price="15" class="quantity-input">
            <button class="add-to-cart" data-book="Book 2" data-price="15">Add to Cart</button>
            <div><a href="./tutorial.html" class="tutorial-link">Tutorial</a></div>
        </div>

        <div class="book-card">
            <img src="../images/book3.jpg" alt="Book 3">
            <h3><a href="../pages/book details/shiv.html"
              onclick="
                dataLayer.push({ ecommerce: null }); 
                   dataLayer.push({
                     event: 'select_item',
                     ecommerce: {
                       item_list_id: 'books_on_sale',
                       item_list_name: 'Purchase Your Favorite Books',
                       items: [
                         {
                          item_id: 'b3',
                          item_name: document.querySelector('.book-card:nth-child(3) h3').innerText,
                          affiliation: 'Book Store',
                          coupon: 'SUMMER FUN',
                          discount: 2.22,
                          price: document.querySelector('.book-card:nth-child(3) .quantity-input').getAttribute('data-price'),
                          quantity: document.querySelector('#quantity3').value,
                          item_brand: 'Spiritual Book',
                          item_category: 'Books',
                          item_variant: 'Standard',
                          location_id: 'ChIJIQBpAG2ahYAR_6128GcTUEo',
                          item_list_id: 'books_on_sale',
                          item_list_name: 'Purchase Your Favorite Books',
                         }
                       ]
                     }
                   });"
              >Shiv Shakti</h3></a>
            <p>Price: $20</p>
            <p>Description: The Shiv Shakti Power</p>
            <label for="quantity3">Quantity:</label>
            <input type="number" id="quantity3" name="quantity" min="1" value="1" data-price="20" class="quantity-input">
            <button class="add-to-cart" data-book="Book 3" data-price="20">Add to Cart</button>
            <div><a href="./tutorial.html" class="tutorial-link">Tutorial</a></div>
        </div>
    </div>

    <!-- Cart Section -->
    <div class="cart-container">
        <h2>Your Cart</h2>
        <ul id="cart-items"></ul>
        <h3>Total: $<span id="total-price">0.00</span></h3>
        <button id="checkout-btn">Checkout</button>
    </div>

    <script src="../functions/cart.js"></script>

    <!-- DataLayer push code is placed below here for view_item_list event -->
    <script>
  // Clear any previous ecommerce data
  dataLayer.push({ ecommerce: null });  // Clear the previous ecommerce object.
dataLayer.push({
  event: "view_item_list",
  ecommerce: {
    item_list_id: "related_products",
    item_list_name: "Related products",
    items: [
     {
      item_id: "SKU_12345",
      item_name: "Stan and Friends Tee",
      affiliation: "Google Merchandise Store",
      coupon: "SUMMER_FUN",
      discount: 2.22,
      index: 0,
      item_brand: "Google",
      item_category: "Apparel",
      item_category2: "Adult",
      item_category3: "Shirts",
      item_category4: "Crew",
      item_category5: "Short sleeve",
      item_list_id: "related_products",
      item_list_name: "Related Products",
      item_variant: "green",
      location_id: "ChIJIQBpAG2ahYAR_6128GcTUEo",
      price: 10.03,
      quantity: 3
    },
    {
      item_id: "SKU_12346",
      item_name: "Google Grey Women's Tee",
      affiliation: "Google Merchandise Store",
      coupon: "SUMMER_FUN",
      discount: 3.33,
      index: 1,
      item_brand: "Google",
      item_category: "Apparel",
      item_category2: "Adult",
      item_category3: "Shirts",
      item_category4: "Crew",
      item_category5: "Short sleeve",
      item_list_id: "related_products",
      item_list_name: "Related Products",
      item_variant: "gray",
      location_id: "ChIJIQBpAG2ahYAR_6128GcTUEo",
      price: 21.01,
      promotion_id: "P_12345",
      promotion_name: "Summer Sale",
      quantity: 2
    }]
  }
});
</script>

</body>
</html>
